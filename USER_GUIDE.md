# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è RAG —Å–∏—Å—Ç–µ–º—ã

## –ß—Ç–æ —ç—Ç–æ?
–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI. –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ PDF/DOCX –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã - —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–π–¥–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞** ‚Üí Docling –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ PDF/DOCX
2. **–†–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —á–∞—Å—Ç–∏** ‚Üí –¢–µ–∫—Å—Ç –¥–µ–ª–∏—Ç—Å—è –Ω–∞ chunks –ø–æ 200 —Å–ª–æ–≤
3. **–°–æ–∑–¥–∞–Ω–∏–µ embeddings** ‚Üí Ollama –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ–≤—ã–µ –≤–µ–∫—Ç–æ—Ä—ã
4. **–•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑–µ** ‚Üí Qdrant —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–µ–∫—Ç–æ—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
5. **–ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞** ‚Üí DeepSeek –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫—É—Å–∫–æ–≤ —Ç–µ–∫—Å—Ç–∞

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ (–ö–†–ò–¢–ò–ß–ù–û)
- ‚úÖ **Qdrant** (–ø–æ—Ä—Ç 6333) - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Flask Webapp** (–ø–æ—Ä—Ç 5000) - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ **DeepSeek API** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ (—á–µ—Ä–µ–∑ OpenRouter)

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üìÑ **Docling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF/DOCX
- üî¢ **Ollama** - —Å–æ–∑–¥–∞–Ω–∏–µ embeddings (nomic-embed-text)

### –ß—Ç–æ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚ùå **n8n** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚ùå **Open-WebUI** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–ª–æ–∫–∞–ª—å–Ω–æ)

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ó–∞–ø—É—Å–∫ –í–°–ï–• —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose up -d

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Ç–æ–≤—ã–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏
docker start qdrant-docling docling-webapp
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–®–∞–≥ 1: –ü–æ–ª–æ–∂–∏—Ç—å —Ñ–∞–π–ª –≤ /documents**
```bash
# –ö–æ–ø–∏—Ä—É–µ–º PDF –∏–ª–∏ DOCX –≤ –ø–∞–ø–∫—É
cp "–º–æ–π_–¥–æ–∫—É–º–µ–Ω—Ç.pdf" documents/
```

**–®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Docling –∏ Ollama (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã)
docker start docling-docling ollama-docling

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
docker exec docling-docling python /app/process_documents.py /documents/–º–æ–π_–¥–æ–∫—É–º–µ–Ω—Ç.pdf
```

**–®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å embeddings**
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
docker exec docling-docling python /app/create_embeddings_slow.py /shared/processed/–º–æ–π_–¥–æ–∫—É–º–µ–Ω—Ç.md
```

**–®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!**
–î–æ–∫—É–º–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å http://localhost:5000

### –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
2. –í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ —á–∞—Ç
3. –°–∏—Å—Ç–µ–º–∞ –Ω–∞–π–¥–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —á–∞—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç
4. –ü–æ–¥ –æ—Ç–≤–µ—Ç–æ–º –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)

## –¢–µ–∫—É—â–∞—è –±–∞–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **"–î–∏—Ä–µ–∫—Ç–æ—Ä v1.pdf"** - 61 vector (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ü–æ—á–µ–º—É –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º –ø–æ–ª—É—á–∞—é—Ç—Å—è –ª—É—á—à–µ —Å DeepSeek?
–ü–æ—Ç–æ–º—É —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è llama3.2 –ø–ª–æ—Ö–æ –∑–Ω–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫. DeepSeek –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç–∏.

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ Ollama –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞?
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `create_embeddings_slow.py` - –æ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç chunks –ø–æ –æ–¥–Ω–æ–º—É —Å –ø–∞—É–∑–∞–º–∏.

### –ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ?
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Qdrant
curl http://localhost:6333/collections/documents

# –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - —Ç–∞–º –µ—Å—Ç—å —Å—á–µ—Ç—á–∏–∫–∏
```

### –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã?
- **–û—Ä–∏–≥–∏–Ω–∞–ª—ã**: `./documents/`
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ (markdown)**: `./shared/processed/`
- **–í–µ–∫—Ç–æ—Ä—ã**: –≤–Ω—É—Ç—Ä–∏ Qdrant (Docker volume)

### –ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å –±–∞–∑—É –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?
```bash
# –£–¥–∞–ª–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é Qdrant
curl -X DELETE http://localhost:6333/collections/documents

# –°–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ
curl -X PUT http://localhost:6333/collections/documents \
  -H "Content-Type: application/json" \
  -d '{"vectors": {"size": 768, "distance": "Cosine"}}'
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### Webapp –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
docker restart docling-webapp
docker logs docling-webapp
```

### Qdrant –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```bash
docker restart qdrant-docling
curl http://localhost:6333/health
```

### DeepSeek API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é llama3.2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- OpenRouter API –∫–ª—é—á (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ app.py)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ë–∞–ª–∞–Ω—Å –Ω–∞ OpenRouter

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
- DeepSeek API: 5-15 —Å–µ–∫—É–Ω–¥ (–Ω–æ—Ä–º–∞)
- –õ–æ–∫–∞–ª—å–Ω–∞—è llama3.2: 30-60+ —Å–µ–∫—É–Ω–¥
- –ï—Å–ª–∏ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É: `docker stats`

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –õ–æ–≥–∏ webapp
docker logs -f docling-webapp

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ–∫—Ç–æ—Ä–æ–≤ –≤ Qdrant
curl http://localhost:6333/collections/documents
```

### –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
docker compose down

# –û—á–∏—Å—Ç–∫–∞ –º–µ—Å—Ç–∞ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
docker system prune -a

# Backup Qdrant –¥–∞–Ω–Ω—ã—Ö
docker exec qdrant-docling tar czf - /qdrant/storage > qdrant_backup.tar.gz

# Restore Qdrant –¥–∞–Ω–Ω—ã—Ö
docker exec -i qdrant-docling tar xzf - -C / < qdrant_backup.tar.gz
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `DEPLOYMENT.md` - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ
- `Production Deployment & Security Guide` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `quick_start.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `USAGE.md` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (`docker logs <container>`)
2. –°—Ç–∞—Ç—É—Å healthchecks (`docker ps`)
3. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API (Qdrant, Ollama, OpenRouter)
4. –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (`df -h`)

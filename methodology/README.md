# Папка Methodology - Методологические материалы

Эта папка содержит методологические материалы для тестирования и контроля качества RAG-системы.

## Файлы в папке:

### 1. Стандарт_Вопрос-Ответ_RAG_Тестирование.md
**Основной документ со стандартом тестирования**

Содержит:
- Параметры векторизации системы (модель эмбеддингов, размер чанков)
- Параметры генерации ответов (модель LLM, temperature, параметры)
- Алгоритм гибридного поиска (semantic + keyword + boosting)
- 5 типовых тестов с примерами вопросов и ожидаемых ответов
- Критерии проверки качества ответов
- Метрики для оценки (точность, полнота, формат, галлюцинации)
- Шаблон для документирования тестов

### 2. create_word_doc.py
**Python-скрипт для создания Word-документа**

Требует установки библиотеки:
```bash
pip install python-docx
```

Запуск:
```bash
python create_word_doc.py
```

Создаст файл `Стандарт_Вопрос-Ответ_RAG_Тестирование.docx` в этой же папке.

## Как использовать стандарт:

### Для методолога:

1. **Регулярное тестирование:**
   - После изменений в промпте → полное тестирование (все 5 тестов)
   - После добавления документов → выборочное тестирование
   - Еженедельно → 2-3 случайных теста

2. **Процесс тестирования:**
   - Выберите тип вопроса (Определение / Формула / Расчёт / Практика)
   - Задайте вопрос системе
   - Сравните ответ с ожидаемой структурой
   - Оцените по критериям проверки
   - Заполните метрики качества
   - Документируйте результаты

3. **Критерии качества для production:**
   - Точность ≥ 90%
   - Полнота ≥ 85%
   - Формат 100% соответствие
   - Галлюцинации 0 фактов

### Для разработчика:

1. **Использование при изменении системы:**
   - Перед изменением промпта → прогон базовых тестов
   - После изменения → полное регрессионное тестирование
   - Документирование улучшений/ухудшений

2. **Настройка параметров:**
   Если меняете параметры в коде, обновите их в стандарте:
   - `create_embeddings.py` → chunk_size, overlap
   - `webapp/app.py` → system_prompt, temperature, model
   - `search.py` → keyword_boosts, score_threshold

## Типы тестов:

### Тест №1: Определение (базовый)
Проверяет, может ли система дать точное определение термина из документа.

### Тест №2: Формула (расширенный)
Проверяет, может ли система правильно процитировать формулу и объяснить переменные.

### Тест №3: Расчёт с данными
Проверяет, может ли система выполнить арифметические вычисления по формуле.

### Тест №4: Неполные данные
Проверяет, умеет ли система корректно запрашивать недостающие данные.

### Тест №5: Практическая задача
Проверяет, может ли система предложить конкретные шаги решения проблемы.

## Метрики оценки:

1. **Точность (Accuracy)** - ответ содержит только информацию из документов (0-100%)
2. **Полнота (Completeness)** - ответ охватывает все аспекты вопроса (0-100%)
3. **Формат (Format)** - ответ следует структуре без markdown (ДА/НЕТ)
4. **Вычисления (Calculations)** - при наличии данных выполнены расчёты (ДА/НЕТ)
5. **Уточнения (Follow-up)** - наличие 2-3 релевантных вопросов (ДА/НЕТ)
6. **Галлюцинации (Hallucinations)** - количество выдуманных фактов (0 = отлично)

## Контакты и поддержка:

При вопросах по использованию стандарта обращайтесь к разработчику системы.

---

**Версия:** 1.0  
**Дата создания:** 2026-01-21  
**Последнее обновление:** 2026-01-21
